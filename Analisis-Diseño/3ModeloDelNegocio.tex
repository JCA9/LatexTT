% !TeX root = analisis-diseno.tex

%=========================================================
\chapter{Modelo del negocio}
\label{cap:negocio}

Este capítulo presenta el modelo del negocio de FinanzApp, definiendo las reglas de negocio que rigen el funcionamiento del sistema, los procesos principales de la gestión financiera personal, y las entidades de negocio involucradas. Se establecen las bases conceptuales que guiarán el diseño e implementación del sistema.

%---------------------------------------------------------
\section{Reglas de negocio}

Las reglas de negocio definen las políticas, restricciones y lógica que debe cumplir FinanzApp para garantizar su correcto funcionamiento y alineación con los objetivos del proyecto.

\input{3-1-reglas}

%---------------------------------------------------------
\section{Procesos de negocio}

Los procesos de negocio describen las actividades principales que los usuarios realizan dentro del contexto de gestión financiera personal, y cómo FinanzApp los soporta y automatiza.

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
\subsection{Proceso de registro y digitalización de gastos}

\begin{figure}[htpb!]
	\begin{center}
		% TODO: Agregar imagen correspondiente
		\caption{Proceso de registro y digitalización de gastos}
		\label{fig:procesoRegistro}
	\end{center}
\end{figure}

Este proceso representa la actividad principal de FinanzApp: la digitalización automática de gastos mediante OCR. El usuario fotografía un ticket o recibo, el sistema procesa la imagen, extrae la información relevante, la categoriza automáticamente y la registra en el perfil financiero del usuario.

\textbf{Actores involucrados:} \textcolor{userColor}{\textbf{Usuario Joven}}, \textcolor{userColor}{\textbf{Servicio OCR}}

\textbf{Precondiciones:} Usuario autenticado, cámara del dispositivo funcional, conexión a internet activa.

\textbf{Postcondiciones:} Gasto registrado y categorizado en la base de datos del usuario.

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
\subsection{Proceso de análisis y generación de insights financieros}

\begin{figure}[htpb!]
	\begin{center}
		% TODO: Agregar imagen correspondiente
		\caption{Proceso de análisis y generación de insights financieros}
		\label{fig:procesoAnalisis}
	\end{center}
\end{figure}

Este proceso describe cómo el sistema analiza los patrones de gasto del usuario para generar insights, predicciones y recomendaciones personalizadas. Incluye la identificación de tendencias, detección de gastos atípicos y generación de alertas proactivas.

\textbf{Actores involucrados:} Sistema de análisis predictivo (interno)

\textbf{Precondiciones:} Datos históricos suficientes (mínimo 30 días), algoritmos de ML entrenados.

\textbf{Postcondiciones:} Insights generados y disponibles en el dashboard del usuario.

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
\subsection{Proceso de educación financiera contextual}

\begin{figure}[htpb!]
	\begin{center}
		% TODO: Agregar imagen correspondiente
		\caption{Proceso de educación financiera contextual}
		\label{fig:procesoEducacion}
	\end{center}
\end{figure}

Este proceso detalla cómo FinanzApp proporciona educación financiera just-in-time, integrando consejos y recomendaciones en el contexto específico de las acciones del usuario.

\textbf{Actores involucrados:} \textcolor{userColor}{\textbf{Usuario Joven}}, Motor de recomendaciones (interno)

\textbf{Precondiciones:} Perfil del usuario establecido, contenido educativo disponible.

\textbf{Postcondiciones:} Conocimiento financiero del usuario incrementado, mejores decisiones financieras.

%---------------------------------------------------------
\section{Entidades de negocio}

Las entidades de negocio representan los conceptos principales del dominio financiero personal que maneja FinanzApp.

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
\subsection{Usuario}

Representa a la persona que utiliza FinanzApp para gestionar sus finanzas personales.

\textbf{Atributos principales:}
\begin{itemize}
	\item Información personal: nombre, edad, email, teléfono
	\item Preferencias: categorías personalizadas, metas financieras, frecuencia de notificaciones
	\item Perfil financiero: ingresos promedio, patrón de gastos, nivel de educación financiera
	\item Configuración: idioma, moneda, zona horaria
\end{itemize}

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
\subsection{Transacción}

Representa cualquier movimiento financiero (gasto o ingreso) registrado en el sistema.

\textbf{Atributos principales:}
\begin{itemize}
	\item Información básica: monto, fecha, descripción, tipo (gasto/ingreso)
	\item Categorización: categoría principal, subcategoría, tags personalizados
	\item Origen: método de registro (OCR, manual, automático), establecimiento
	\item Metadatos: ubicación, imagen del ticket, nivel de confianza OCR
\end{itemize}

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
\subsection{Categoría}

Representa las clasificaciones utilizadas para organizar las transacciones financieras.

\textbf{Atributos principales:}
\begin{itemize}
	\item Identificación: nombre, descripción, icono, color
	\item Jerarquía: categoría padre, subcategorías
	\item Configuración: presupuesto asignado, alertas, metas específicas
	\item Estadísticas: promedio mensual, tendencia, comparación con usuarios similares
\end{itemize}

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
\subsection{Presupuesto}

Representa los límites de gasto establecidos por el usuario para diferentes categorías o períodos.

\textbf{Atributos principales:}
\begin{itemize}
	\item Definición: monto límite, período (semanal/mensual), categorías incluidas
	\item Estado: progreso actual, porcentaje utilizado, días restantes
	\item Alertas: umbrales de notificación, tipos de alerta configurados
	\item Histórico: cumplimiento en períodos anteriores, tendencias
\end{itemize}

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
\subsection{Meta Financiera}

Representa objetivos de ahorro o reducción de gastos establecidos por el usuario.

\textbf{Atributos principales:}
\begin{itemize}
	\item Objetivo: descripción, monto target, fecha límite
	\item Progreso: monto actual, porcentaje completado, tiempo restante
	\item Estrategia: plan de ahorro sugerido, acciones recomendadas
	\item Motivación: recordatorios, recompensas, hitos intermedios
\end{itemize}

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
\subsection{Ticket/Recibo}

Representa la digitalización de un comprobante de compra físico.

\textbf{Atributos principales:}
\begin{itemize}
	\item Imagen: archivo original, imagen procesada, metadatos de captura
	\item Extracción OCR: texto extraído, nivel de confianza, campos identificados
	\item Validación: estado de verificación, correcciones manuales
	\item Procesamiento: timestamp, tiempo de procesamiento, versión del algoritmo OCR
\end{itemize}

%---------------------------------------------------------
\section{Estados de las entidades}

\input{3-2-estados}

%---------------------------------------------------------
\section{Modelo conceptual}

\begin{figure}[htpb!]
	\begin{center}
		% TODO: Agregar imagen correspondiente
		\caption{Modelo conceptual de FinanzApp}
		\label{fig:modeloConceptual}
	\end{center}
\end{figure}

El modelo conceptual muestra las relaciones entre las entidades principales del sistema. Un Usuario puede tener múltiples Transacciones, las cuales se organizan en Categorías. Los Presupuestos se asocian a categorías específicas, mientras que las Metas Financieras son objetivos generales del usuario. Los Tickets representan la fuente de información para las transacciones registradas mediante OCR.

%---------------------------------------------------------
\section{Políticas de negocio}

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
\subsection{Políticas de privacidad y seguridad}

\begin{itemize}
	\item Los datos financieros se cifran con AES-256 tanto en tránsito como en reposo
	\item Las imágenes de tickets se eliminan automáticamente después de 90 días del procesamiento exitoso
	\item Los datos analíticos se anonimizan antes de utilizarse para mejoras del sistema
	\item Los usuarios pueden exportar todos sus datos en cualquier momento
	\item La información personal no se comparte con terceros sin consentimiento explícito
\end{itemize}

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
\subsection{Políticas de uso del servicio OCR}

\begin{itemize}
	\item Máximo 50 procesamiento OCR por usuario por día
	\item Imágenes deben ser menores a 10 MB
	\item Formatos soportados: JPEG, PNG, PDF
	\item Tiempo máximo de procesamiento: 30 segundos
	\item Reintento automático hasta 3 veces en caso de falla
\end{itemize}

% - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
\subsection{Políticas de categorización automática}

\begin{itemize}
	\item Precisión mínima requerida del 80\% para categorización automática
	\item Aprendizaje continuo basado en correcciones del usuario
	\item Revisión manual requerida para transacciones mayores a \$5,000 MXN
	\item Categoría ``Sin clasificar'' para casos de baja confianza (<60\%)
	\item Actualización de algoritmos cada 30 días con nuevos datos de entrenamiento
\end{itemize}
